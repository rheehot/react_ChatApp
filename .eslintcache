[{"/Users/minseok/Desktop/react_chat/src/components/RegisterPage/RegisterPage.js":"1","/Users/minseok/Desktop/react_chat/src/components/LoginPage/LoginPage.js":"2","/Users/minseok/Desktop/react_chat/src/App.js":"3","/Users/minseok/Desktop/react_chat/src/index.js":"4","/Users/minseok/Desktop/react_chat/src/firebase.js":"5","/Users/minseok/Desktop/react_chat/src/components/ChatPage/ChatPage.js":"6","/Users/minseok/Desktop/react_chat/src/redux/reducer/index.js":"7","/Users/minseok/Desktop/react_chat/src/redux/reducer/user_reducer.js":"8","/Users/minseok/Desktop/react_chat/src/redux/actions/user_action.js":"9","/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/SidePanel.js":"10","/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MainPanel.js":"11","/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MessageHeader.js":"12","/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MessageForm.js":"13","/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/UserPanel.js":"14","/Users/minseok/Desktop/react_chat/src/redux/actions/types.js":"15","/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/DirectMessages.js":"16","/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/ChatRooms.js":"17","/Users/minseok/Desktop/react_chat/src/redux/reducer/chatRoom_reducer.js":"18","/Users/minseok/Desktop/react_chat/src/redux/actions/chatRoom_action.js":"19","/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/Message.js":"20"},{"size":3814,"mtime":1609047965133,"results":"21","hashOfConfig":"22"},{"size":2176,"mtime":1609052862856,"results":"23","hashOfConfig":"22"},{"size":1322,"mtime":1610435122567,"results":"24","hashOfConfig":"22"},{"size":836,"mtime":1609058193875,"results":"25","hashOfConfig":"22"},{"size":602,"mtime":1608973572892,"results":"26","hashOfConfig":"22"},{"size":661,"mtime":1610642467465,"results":"27","hashOfConfig":"22"},{"size":213,"mtime":1610521876274,"results":"28","hashOfConfig":"22"},{"size":635,"mtime":1610534152598,"results":"29","hashOfConfig":"22"},{"size":358,"mtime":1610463554737,"results":"30","hashOfConfig":"22"},{"size":511,"mtime":1610433408653,"results":"31","hashOfConfig":"22"},{"size":1878,"mtime":1610684721631,"results":"32","hashOfConfig":"22"},{"size":3351,"mtime":1610553052018,"results":"33","hashOfConfig":"22"},{"size":4519,"mtime":1610689746897,"results":"34","hashOfConfig":"22"},{"size":2864,"mtime":1610610508012,"results":"35","hashOfConfig":"22"},{"size":217,"mtime":1610522065212,"results":"36","hashOfConfig":"22"},{"size":143,"mtime":1609056872973,"results":"37","hashOfConfig":"22"},{"size":5554,"mtime":1610552020683,"results":"38","hashOfConfig":"22"},{"size":519,"mtime":1610534299905,"results":"39","hashOfConfig":"22"},{"size":194,"mtime":1610522189577,"results":"40","hashOfConfig":"22"},{"size":1507,"mtime":1610685779996,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1fuq7g",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/minseok/Desktop/react_chat/src/components/RegisterPage/RegisterPage.js",[],["86","87"],"/Users/minseok/Desktop/react_chat/src/components/LoginPage/LoginPage.js",[],"/Users/minseok/Desktop/react_chat/src/App.js",["88"],"/Users/minseok/Desktop/react_chat/src/index.js",[],"/Users/minseok/Desktop/react_chat/src/firebase.js",[],["89","90"],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/ChatPage.js",[],"/Users/minseok/Desktop/react_chat/src/redux/reducer/index.js",[],"/Users/minseok/Desktop/react_chat/src/redux/reducer/user_reducer.js",["91"],"/Users/minseok/Desktop/react_chat/src/redux/actions/user_action.js",[],["92","93"],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/SidePanel.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MainPanel.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MessageHeader.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/MessageForm.js",["94"],"import React, { useRef, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport Form from 'react-bootstrap/Form';\nimport ProgressBar from 'react-bootstrap/ProgressBar'\nimport firebase from '../../../firebase'\nimport mime from 'mime-types'\nimport { useSelector } from 'react-redux'\n\nconst MessageForm = () => {\n    const chatRoom = useSelector(state => state.chatRoom.currentChatRoom);\n    const user = useSelector(state => state.user.currentUser);\n\n    const [content, setcontent] = useState(\"\");\n    const [error, seterror] = useState([]);\n    const [loading, setloading] = useState(false);\n    const [percentage, setpercentage] = useState(0);\n\n\n    const messagesRef = firebase.database().ref(\"messages\")\n    const inputOpenImageRef = useRef();\n    const storageRef = firebase.storage().ref();\n\n    const createMessage = (fileUrl = null) => {\n        const message = {\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\n            user: {\n                id: user.uid,\n                name: user.displayName,\n                image: user.photoURL\n            }\n        }\n\n        if (fileUrl !== null) {\n            message['image'] = fileUrl;\n        } else {\n            message['content'] = content;\n        }\n        return message;\n    }\n\n    const handleChange = (e) => {\n        setcontent(e.target.value)\n    }\n\n    const handleSubmit = async () => {\n        if (!content) {\n            seterror(prev => prev.concat(\"Type contents first\"))\n            return;\n        }\n        setloading(true);\n        try {\n            await messagesRef.child(chatRoom.id).push().set(createMessage())\n            setloading(false)\n            setcontent(\"\")\n            seterror([])\n        } catch (error) {\n            seterror(pre => pre.concat(error.message))\n            setloading(false)\n            setTimeout(() => {\n                seterror([])\n            }, 5000)\n        }\n\n    }\n\n    // 임의로 DOM을 실행해줌.\n    const handleOpenImageRef = () => {\n        inputOpenImageRef.current.click();\n    }\n    const handleUploadImage = (e) => {\n        const file = e.target.files[0]\n        if (!file) return;\n        const filePath = `/message/public/${file.name}`;\n        const metadata = { contentType: mime.lookup(file.name) };\n\n        try {\n            // storage에 저장\n            let uploadTask = storageRef.child(filePath).put(file, metadata)\n\n            // 파일 저장되는 퍼센티지 구현하기\n            uploadTask.on(\"state_changed\", uploadTaskSnapshot => {\n                const percentage = Math.round(\n                    (uploadTaskSnapshot.bytesTransferred / uploadTaskSnapshot.totalBytes) * 100\n                )\n                setpercentage(percentage)\n            })\n        } catch (error) {\n            alert(error)\n        }\n    }\n\n\n    return (\n        <div>\n            <Form onSubmit={handleSubmit}>\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                    <Form.Control\n                        value={content}\n                        onChange={handleChange}\n                        as=\"textarea\" rows={3} />\n                </Form.Group>\n            </Form>\n            {\n                !(percentage === 0 || percentage === 100) &&\n                <ProgressBar variant=\"warning\" label={`${percentage}%`} now={percentage} />\n\n            }\n            <div>\n                {error.map(error =>\n                    <p style={{ color: 'red' }} key={error}>\n                        {error}\n                    </p>\n                )}\n            </div>\n            <Row>\n                <Col>\n                    <button\n                        onClick={handleSubmit}\n                        className=\"message-form-button\"\n                        style={{\n                            width: '100%'\n                        }}>\n                        Send\n                    </button>\n                </Col>\n                <Col>\n                    <button\n                        onClick={handleOpenImageRef}\n                        className=\"message-form-button\"\n                        style={{\n                            width: '100%'\n                        }}>\n                        UpLoad\n                    </button>\n                </Col>\n            </Row>\n            <input type=\"file\"\n                style={{ display: 'none' }}\n                ref={inputOpenImageRef}\n                onChange={handleUploadImage}\n            />\n        </div>\n    );\n}\n\nexport default MessageForm;\n","/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/UserPanel.js",[],"/Users/minseok/Desktop/react_chat/src/redux/actions/types.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/DirectMessages.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/SidePanel/ChatRooms.js",["95","96"],"/Users/minseok/Desktop/react_chat/src/redux/reducer/chatRoom_reducer.js",[],"/Users/minseok/Desktop/react_chat/src/redux/actions/chatRoom_action.js",[],"/Users/minseok/Desktop/react_chat/src/components/ChatPage/MainPanel/Message.js",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":37,"column":6,"nodeType":"103","endLine":37,"endColumn":8,"suggestions":"104"},{"ruleId":"97","replacedBy":"105"},{"ruleId":"99","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":9,"column":1,"nodeType":"109","endLine":26,"endColumn":2},{"ruleId":"97","replacedBy":"110"},{"ruleId":"99","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":15,"column":12,"nodeType":"114","messageId":"115","endLine":15,"endColumn":19},{"ruleId":"112","severity":1,"message":"116","line":18,"column":26,"nodeType":"114","messageId":"115","endLine":18,"endColumn":41},{"ruleId":"101","severity":1,"message":"117","line":113,"column":8,"nodeType":"103","endLine":113,"endColumn":10,"suggestions":"118"},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["121"],["119"],["120"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration",["119"],["120"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'setChatRoomsRef' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'AddChatRoomsListeners' and 'ChatRoomsRef'. Either include them or remove the dependency array.",["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},"Update the dependencies array to be: [dispatch, history]",{"range":"127","text":"128"},"Update the dependencies array to be: [AddChatRoomsListeners, ChatRoomsRef]",{"range":"129","text":"130"},[918,920],"[dispatch, history]",[3171,3173],"[AddChatRoomsListeners, ChatRoomsRef]"]